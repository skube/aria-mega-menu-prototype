<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<title>Prototype II</title>
<style>
	
	*[role=navigation] [aria-hidden=true] {display: none}

</style>

</head>
<body>
<!-- 
- aria-describedby: reads description after (description provides more information that the user might need)
- aria-labelledby: reads label before (label describes the essence of an object)
- aria-label: reads label before
- aria-owns: Defines an object as a parent of another document element, when the child does not appear directly in the subtree of the owner
- aria-flowto="trucksbtn" (try it?)
- TODO: create nomenclature to handle unique IDs
-->
		<ul role="menubar">
			<li role="presentation">

				<button type="button" role="menuitem" aria-haspopup="true" aria-expanded="false" aria-checked="false"  id="carsbtn" aria-owns="cars_upcoming car_models">CARS</button>

				<dl role="menu" id="cars_upcoming" aria-hidden="true">
					<dt role="presentation" id="cars_upcoming_label">Upcoming vehicles</dt>
					<dd role="presentation" aria-describedby="cars_upcoming_label"><a role="menuitem" href="#">2014 Camaro</a></dd>
					<dd role="presentation" aria-describedby="cars_upcoming_label"><a role="menuitem" href="#">2014 Colorado</a></dd>
					<dd role="presentation" aria-describedby="cars_upcoming_label"><a role="menuitem" href="#">2014 Colorado</a></dd>
				</dl>

				<ul role="menu" id="car_models" aria-hidden="true">

					<li role="presentation" id="mdl_01">
						<button role="menuitem" aria-haspopup="true" aria-expanded="true" aria-checked="false"  id="sparkBtn" aria-owns="veh01_car_trims">Spark</button>

						<dl role="menu" id="veh01_car_trims" aria-hidden="true">
							<dt role="presentation" id="car_trims_desc_01">Select a Model</dt>
							<dd role="presentation" aria-describedby="car_trims_desc_01">
								<button role="menuitem" aria-haspopup="true" aria-expanded="true" aria-checked="false       " aria-owns="car_trim_01_content">Trim 1</button>

								<div id="car_trim_01_content" aria-hidden="false">
									
									<p>something</p>
									<input type="text" />
									<button type="button">choose</button>
									
								</div>
							</dd>
							<dd role="presentation" aria-describedby="car_trims_desc_01">
								<button role="menuitem" aria-haspopup="true" aria-expanded="true" aria-checked="false" aria-owns="car_trim_02_content">Trim 2</button>

								<div id="car_trim_02_content" aria-hidden="false">Content here</div>
							</dd>
							<dd role="presentation" aria-describedby="car_trims_desc_01">
								<button role="menuitem" aria-haspopup="true" aria-expanded="true" aria-checked="false" aria-owns="car_trim_03_content">Trim 2</button>

								<div id="car_trim_03_content" aria-hidden="false">Content here</div>
							</dd>
						</dl>
					</li>

					<li role="presentation" id="mdl_02" aria-hidden="true">
						<button role="menuitem" aria-haspopup="true" aria-expanded="false" aria-checked="false"  id="sonicBtn" aria-owns="veh02_content">Sonic</button>

						<div id="veh02_content">asdf</div>
					</li>

				</ul>

			</li>
			<li role="presentation">

				<button role="menuitem" aria-haspopup="true" aria-expanded="false" aria-checked="false" id="trucksbtn" aria-owns="trucktrims trucks_upcoming"  aria-controls="trucktrims trucks_upcoming">Trucks</button>


			</li>
		</ul>

<script type="text/javascript">
	$(function(){
		$(document).delegate('button[role=menuitem]','click',function(e){
			var that = $(this);
			var childId = that.attr('aria-owns').split(' ');
			for (var i = 0; i < childId.length; i++) {
				$('#'+childId[i]).toggle();
			}



		});
	});


</script>		
</body>
</html>